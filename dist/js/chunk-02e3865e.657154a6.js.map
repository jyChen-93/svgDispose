{"version":3,"sources":["webpack:///./src/assets/sss.png","webpack:///./src/views/img_huabu_juxing.vue?85ff","webpack:///src/views/img_huabu_juxing.vue","webpack:///./src/views/img_huabu_juxing.vue?b74c","webpack:///./src/views/img_huabu_juxing.vue","webpack:///./src/views/img_huabu_juxing.vue?3336"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","staticStyle","attrs","on","clearAction","_v","rectMouseDown","staticRenderFns","canvas","component"],"mappings":"qGAAAA,EAAOC,QAAU,IAA0B,wB,kECA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACG,IAAI,QAAQC,YAAY,CAAC,QAAU,QAAQC,MAAM,CAAC,IAAM,EAAQ,WAAwBL,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACM,GAAG,CAAC,MAAQV,EAAIW,cAAc,CAACX,EAAIY,GAAG,UAAUR,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,IAAI,CAACJ,EAAIY,GAAG,SAASR,EAAG,MAAM,CAACG,IAAI,WAAWD,YAAY,YAAYI,GAAG,CAAC,UAAYV,EAAIa,mBAAmBT,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACG,IAAI,WAAWD,YAAY,aAAa,CAACN,EAAIY,GAAG,sBACnmBE,EAAkB,GCalBC,EAAS,KAAb,cAEA,GACE,KAAF,GACE,WAAF,GACE,KAHF,WAII,MAAJ,IAEE,QANF,aAOE,QAPF,WAOI,KAAJ,QACE,QAAF,CACI,KADJ,WAEM,KAAN,YACM,KAAN,cAEI,WALJ,WAMM,EAAN,oBAEM,EAAN,UACM,EAAN,WAEM,EAAN,mBAEM,KAAN,YAEM,KAAN,iBAEI,UAjBJ,WAkBM,EAAN,iBACM,EAAN,kBACQ,EAAR,oCAGI,cAvBJ,WAyBM,EAAN,wBAEQ,IAAR,yBACA,wBACQ,EAAR,YACQ,EAAR,YACQ,QAAR,iBAGQ,EAAR,wBACU,IAAV,yBACA,wBACU,EAAV,YACU,EAAV,UAGQ,EAAR,qBACU,EAAV,oBAII,YA9CJ,WA+CM,EAAN,uBACM,EAAN,mCAEI,cAlDJ,SAkDA,GAAM,IAAN,OACA,WAEA,yBACA,wBACM,SAAN,wBAEQ,IAAR,cACA,cAEQ,EAAR,YACQ,EAAR,YAEQ,EAAR,kBACQ,EAAR,kBAEM,SAAN,sBACQ,SAAR,iBACQ,SAAR,iBAKI,UAzEJ,WA0EM,QAAN,wBACM,KAAN,2DACQ,QAAR,6BACQ,EAAR,gBAEQ,QAAR,qBCvG0V,I,wBCQtVC,EAAY,eACd,EACAjB,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAE,E,6CCnBf,yBAAqhB,EAAG","file":"js/chunk-02e3865e.657154a6.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/sss.2eac3ed6.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"warp\"},[_c('img',{ref:\"myImg\",staticStyle:{\"display\":\"none\"},attrs:{\"src\":require(\"../assets/sss.png\")}}),_c('div',{staticClass:\"fixed-top\"},[_c('button',{on:{\"click\":_vm.clearAction}},[_vm._v(\"清除\")])]),_c('div',{staticClass:\"fixed-bottom\"},[_c('div',{staticClass:\"fixed-left tools\"},[_c('p',[_vm._v(\"工具栏\")]),_c('div',{ref:\"demoRect\",staticClass:\"demo-rect\",on:{\"mousedown\":_vm.rectMouseDown}})]),_c('div',{staticClass:\"fixed-right\"},[_c('canvas',{ref:\"myCanvas\",staticClass:\"my-canvas\"},[_vm._v(\"您的破浏览器不兼容\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\r\n    div.warp\r\n        img( ref=\"myImg\" src=\"../assets/sss.png\" style=\"display:none;\" )\r\n        .fixed-top\r\n            button( @click=\"clearAction\") 清除\r\n        .fixed-bottom\r\n            .fixed-left.tools \r\n                p 工具栏\r\n                .demo-rect(ref=\"demoRect\" @mousedown=\"rectMouseDown\")\r\n            .fixed-right\r\n                canvas.my-canvas(ref=\"myCanvas\") 您的破浏览器不兼容\r\n</template>\r\n<script>\r\n// @ is an alias to /src\r\nvar canvas = null, ctx = null, img = null;\r\n// box = null\r\nexport default {\r\n    name: \"\",\r\n    components: {},\r\n    data() {\r\n        return {};\r\n    },\r\n    created() { },\r\n    mounted() { this.init(); },\r\n    methods: {\r\n        init() {\r\n            this.toolsInit();//工具栏初始化\r\n            this.canvasInit();//画布初始化\r\n        },\r\n        canvasInit() {\r\n            canvas = this.$refs.myCanvas;\r\n            //设置宽高\r\n            canvas.width = 500;\r\n            canvas.height = 400;\r\n            //获取绘图环境\r\n            ctx = canvas.getContext(\"2d\");\r\n            //导入图片\r\n            this.importImg()\r\n            //画布功能实现，主要是鼠标的onmousedown，和onmousemove事件\r\n            this.huabuFunction();\r\n        },\r\n        importImg() {//导入图片\r\n            img = this.$refs.myImg;\r\n            img.onload = function () {\r\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n            };\r\n        },\r\n        huabuFunction() {\r\n            //鼠标按下\r\n            canvas.onmousedown = function (e) {\r\n                //鼠标在 画布上的位置\r\n                var x = e.clientX - canvas.offsetLeft;\r\n                var y = e.clientY - canvas.offsetTop;\r\n                ctx.beginPath();\r\n                ctx.moveTo(x, y);\r\n                console.log(\"mousedown\");\r\n\r\n                //鼠标移动\r\n                canvas.onmousemove = function (e) {\r\n                    var x = e.clientX - canvas.offsetLeft;\r\n                    var y = e.clientY - canvas.offsetTop;\r\n                    ctx.lineTo(x, y);\r\n                    ctx.stroke();\r\n                }\r\n                //鼠标抬起事件\r\n                canvas.onmouseup = function () {\r\n                    canvas.onmousemove = null;\r\n                }\r\n            }\r\n        },\r\n        clearAction() {//清除画布\r\n            ctx.clearRect(0, 0, 500, 500);\r\n            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n        },\r\n        rectMouseDown(e) {\r\n            let odiv = e.target;        //获取目标元素\r\n            //算出鼠标相对元素的位置\r\n            let disX = e.clientX - odiv.offsetLeft;\r\n            let disY = e.clientY - odiv.offsetTop;\r\n            document.onmousemove = (e) => {       //鼠标按下并移动的事件\r\n                //用鼠标的位置减去鼠标相对元素的位置，得到元素的位置\r\n                let left = e.clientX - disX;\r\n                let top = e.clientY - disY;\r\n                //绑定元素位置到positionX和positionY上面\r\n                this.positionX = top;\r\n                this.positionY = left;\r\n                //移动当前元素\r\n                odiv.style.left = left + 'px';\r\n                odiv.style.top = top + 'px';\r\n            };\r\n            document.onmouseup = (e) => {\r\n                document.onmousemove = null;\r\n                document.onmouseup = null;\r\n            };\r\n        },\r\n        // rectMouseUp(event) { },\r\n        // rectMouseMove(event) { },\r\n        toolsInit() {\r\n            console.log('toolsInit.......')\r\n            this.$refs.demoRect.addEventListener('onmousedown', (e) => {\r\n                console.log('onmousedown..........')\r\n                e = e || window.event;\r\n                // get the mouse cursor position at startup:\r\n                console.log(e.clientX)\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\ncanvas {\r\n    border: 1px solid #ccc;\r\n}\r\ndiv {\r\n    box-sizing: border-box;\r\n}\r\n@mixin bor {\r\n    border: 1px solid #ccc;\r\n}\r\n.warp {\r\n    position: relative;\r\n    padding-top: 40px;\r\n    .fixed-top {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 40px;\r\n    }\r\n    .fixed-bottom {\r\n        display: flex;\r\n        .fixed-left {\r\n            width: 100px;\r\n            float: left;\r\n            border: 1px solid #ccc;\r\n        }\r\n        .fixed-right {\r\n            flex: 1;\r\n            overflow: auto;\r\n            .my-canvas {\r\n                width: 100%;\r\n            }\r\n        }\r\n    }\r\n}\r\n.tools {\r\n    .demo-rect {\r\n        width: 50px;\r\n        height: 50px;\r\n        @include bor;\r\n        margin: 10px auto;\r\n        position: fixed;\r\n        // cursor: all-scroll;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./img_huabu_juxing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./img_huabu_juxing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./img_huabu_juxing.vue?vue&type=template&id=5b83b4bb&lang=pug&\"\nimport script from \"./img_huabu_juxing.vue?vue&type=script&lang=js&\"\nexport * from \"./img_huabu_juxing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./img_huabu_juxing.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./img_huabu_juxing.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./img_huabu_juxing.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}